/* =================================================================
   Hexo Butterfly 个性化定制 - 最终修复版
   ================================================================= */

/* -----------------------------------------------------------------
   1. 全局背景设置 (你的樱花背景)
   ----------------------------------------------------------------- */
body {
    /* 如果背景图没了，请检查下面这个 url 里的链接对不对 */
    background: url("https://img2.baidu.com/it/u=223264907,2608449749&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500") no-repeat center center fixed;
    background-size: cover;
}

/* -----------------------------------------------------------------
   2. 页脚修复 (去除蓝条，透明化)
   ----------------------------------------------------------------- */
/* 强制页脚容器透明 */
#footer, 
#footer-wrap {
    background: transparent !important;
    background-color: transparent !important;
    backdrop-filter: none !important;
    box-shadow: none !important;
}

/* 杀掉那个蓝色的遮罩层 */
#footer::before,
#footer::after {
    display: none !important;
    background: none !important;
}

/* 页脚文字：白色 + 黑色描边 (防止背景太花看不清) */
#footer, 
#footer a, 
#footer-wrap,
#footer-wrap i {
    color: #ffffff !important;
    font-weight: bold !important;
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.95) !important;
}

/* -----------------------------------------------------------------
   3. 首页 & 侧边栏卡片 (白底黑字)
   ----------------------------------------------------------------- */
/* 卡片背景：半透明白色 */
#recent-posts > .recent-post-item,
.card-widget,
#aside-content .card-widget,
#post > #post-content,
.post-copyright {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(10px) !important;
}

/* 首页文章标题：深黑色 */
#recent-posts > .recent-post-item > .recent-post-info > .article-title,
#recent-posts > .recent-post-item > .recent-post-info > .article-title a {
    color: #1f2d3d !important;
    text-shadow: none !important;
}

/* 首页文章摘要 & 元数据：深灰色 */
#recent-posts > .recent-post-item > .recent-post-info .content,
#recent-posts > .recent-post-item > .recent-post-info .article-meta-wrap,
#recent-posts > .recent-post-item > .recent-post-info .article-meta-wrap a,
#recent-posts > .recent-post-item > .recent-post-info .article-meta-wrap i,
.card-widget .item-headline,
.card-widget .card-content {
    color: #4c4948 !important;
}

/* -----------------------------------------------------------------
   4. 文章详情页头部 (深色背景图上的文字)
   ----------------------------------------------------------------- */
/* 这里的文字必须是白色！ */
#post-info .post-title,
#post-info #post-meta,
#post-info #post-meta a,
#post-info #post-meta i,
#post-info .meta-second {
    color: #ffffff !important;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9) !important;
}

/* -----------------------------------------------------------------
   5. 文章正文内容 (白底黑字)
   ----------------------------------------------------------------- */
#post > #post-content {
    color: #4c4948 !important;
}
/* 正文标题 */
#article-container h1, 
#article-container h2, 
#article-container h3, 
#article-container h4 {
    color: #1f2d3d !important;
}

/* -----------------------------------------------------------------
   6. 顶部导航栏 (透明化)
   ----------------------------------------------------------------- */
#page-header.not-top-img #nav,
#page-header #nav {
    background: rgba(255,255,255,0) !important;
    box-shadow: none !important;
}
/* 导航栏文字颜色 */
#page-header #nav a,
#page-header #nav .site-name {
    color: #fff !important;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

/* -----------------------------------------------------------------
   7. 暗黑模式适配 (关灯后的效果)
   ----------------------------------------------------------------- */
[data-theme="dark"] #recent-posts > .recent-post-item,
[data-theme="dark"] .card-widget,
[data-theme="dark"] #post > #post-content {
    background: rgba(30, 30, 30, 0.8) !important;
    color: #eee !important;
}
[data-theme="dark"] .article-title,
[data-theme="dark"] .article-title a,
[data-theme="dark"] .content {
    color: #eee !important;
}
